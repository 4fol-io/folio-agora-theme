{"version":3,"file":"/js/app.js","mappings":"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","sources":["webpack://agora-folio/./src/js/modules/utils.js","webpack://agora-folio/./src/js/modules/widgets.js","webpack://agora-folio/./src/js/app.js","webpack://agora-folio/external var \"jQuery\""],"sourcesContent":["/**\n  * Debounce ES6 implementation\n  * https://gist.github.com/beaucharman/1f93fdd7c72860736643d1ab274fee1a\n  */\nexport const debounce = function (callback, wait, immediate = false) {\n    let timeout = null;\n    return function() {\n      const callNow = immediate && !timeout;\n      const next = () => callback.apply(this, arguments);\n\n      clearTimeout(timeout);\n      timeout = setTimeout(next, wait);\n\n      if (callNow) {\n        next();\n      }\n    }\n};\n\n/**\n * Mobile devices detection\n */\nexport const isMobile = {\n    Android: function() {\n        return navigator.userAgent.match(/Android/i);\n    },\n    BlackBerry: function() {\n        return navigator.userAgent.match(/BlackBerry/i);\n    },\n    iOS: function() {\n        return navigator.userAgent.match(/iPhone|iPad|iPod/i);\n    },\n    Opera: function() {\n        return navigator.userAgent.match(/Opera Mini/i);\n    },\n    Windows: function() {\n        return navigator.userAgent.match(/IEMobile/i);\n    },\n    any: function() {\n        return (isMobile.Android() || isMobile.BlackBerry() || isMobile.iOS() || isMobile.Opera() || isMobile.Windows());\n    }\n};\n\n\n/**\n * Go to Behaviour\n */\nexport const goTo = function (elm, behavior, offset, callback) {\n  behavior = behavior || 'smooth';\n  offset = offset || 0;\n\n  const top = (elm.getBoundingClientRect().top + (window.scrollY || document.documentElement.scrollTop) - offset).toFixed();\n\n  const onScrollTo = function () {\n    if (window.pageYOffset.toFixed() === top) {\n      window.removeEventListener('scroll', onScrollTo)\n      if (callback) callback()\n    }\n  }\n\n  window.addEventListener('scroll', onScrollTo)\n  onScrollTo()\n\n  window.scrollTo({\n    top: top,\n    behavior: behavior\n  })\n\n};\n\n\n/**\n * Aux method object length\n *\n * @param {object} obj\n */\nexport const count = function(obj){\n  if( $.isPlainObject(obj) || Array.isArray(obj) )\n    return $.map(obj, function() { return 1; }).length;\n  return 0;\n};\n\n\n/**\n  * Replace querystring parameter or add it\n  * @param {string} url \n  * @param {string} paramName \n  * @param {string} paramValue \n  * @returns \n  */\nexport const replaceUrlParam = function (url, paramName, paramValue) {\n    if (paramValue == null) {\n        paramValue = '';\n    }\n    var pattern = new RegExp('\\\\b('+paramName+'=).*?(&|#|$)');\n    if (url.search(pattern)>=0) {\n        url = url.replace(pattern,'$1' + paramValue + '$2');\n    } else {\n      url = url.replace(/[?#]$/,'');\n      url = url + (url.indexOf('?')>0 ? '&' : '?') + paramName + '=' + paramValue;\n    }\n    if(history){\n      history.replaceState(null, null, url );\n    }\n    return url;\n}","/**\n * Agora Folio Widgets Module\n */\n\n/**\n * Sort participants block\n * @param {object} $block filters block element\n */\nexport const sortParticipants = function ($block) {\n\n  const orderBy = $block.attr('data-orderby');\n  const orderByAlt = orderBy === 'name' ? 'surname' : 'name';\n  const order = $block.attr('data-order');\n  const $container = $block.find('.list--participants');\n\n  $container.each(function () {\n    var $this = $(this);\n    $this.children('li').sort(function (a, b) {\n      const orderA = $(a).attr('data-' + orderBy).toLowerCase();\n      const orderB = $(b).attr('data-' + orderBy).toLowerCase();\n      if (orderA === orderB) {\n        const orderC = $(a).attr('data-' + orderByAlt);\n        const orderD = $(b).attr('data-' + orderByAlt);\n        if (order === 'ASC') {\n          return (orderC < orderD) ? -1 : (orderC > orderD) ? 1 : 0;\n        } else {\n          return (orderD < orderC) ? -1 : (orderD > orderC) ? 1 : 0;\n        }\n      } else {\n        if (order === 'ASC') {\n          return (orderA < orderB) ? -1 : (orderA > orderB) ? 1 : 0;\n        } else {\n          return (orderB < orderA) ? -1 : (orderB > orderA) ? 1 : 0;\n        }\n      }\n    }).appendTo($this);\n  });\n  \n\n}\n\n\n/**\n * Initialice widgets\n */\nexport const setupWidgets = function () {\n\n  // Append megamenu superagora modals to body to prevent overlay\n  $('.mega-menu .modal').appendTo('body');\n\n  $('.block--participants').each(function () {\n\n    const $block = $(this);\n    const $sortbtn = $block.find('.btn-participants-sort');\n    const $sortby = $block.find('input.participants-orderby');\n    const $sort = $block.find('input.participants-order');\n\n    $sortby.on('change', function () {\n      $block.attr('data-orderby', $(this).val());\n      sortParticipants($block);\n    })\n\n    $sort.on('change', function () {\n      $block.attr('data-order', $(this).val());\n      $sortbtn.find('.lbl').text($(this).data('label'));\n      sortParticipants($block);\n    })\n\n    $sortbtn.on('click', function (e) {\n      e.preventDefault();\n      const order = $block.attr('data-order') === 'ASC' ? 'DESC' : 'ASC';\n      $block.attr('data-order', order);\n      $block.find('input[value=\"' + order + '\"]').prop('checked', true);\n      $(this).find('.lbl').text($block.find('input.participants-order:checked').data('label'));\n      sortParticipants($block);\n    })\n\n    sortParticipants($block);\n\n  });\n\n}\n","/**\n * Main Agora Folio Application Script\n */\n\n\n/**\n * Boostrap dependencies\n * NOTE: Popover, dropdowns and tooltip require popper and util modules. Popovers also require tooltip\n */\nimport 'popper.js';\n//import 'bootstrap';\nimport 'bootstrap/js/dist/util';\nimport 'bootstrap/js/dist/alert';\n//import 'bootstrap/js/dist/button';\nimport 'bootstrap/js/dist/collapse';\nimport 'bootstrap/js/dist/dropdown';\nimport 'bootstrap/js/dist/modal';\n//import 'bootstrap/js/dist/popover';\n//import 'bootstrap/js/dist/scrollspy';\n//import 'bootstrap/js/dist/tab';\n//import 'bootstrap/js/dist/toast';\nimport 'bootstrap/js/dist/tooltip';\n\n\n/**\n * Another Dependencies\n */\nimport Cookies from 'js-cookie';                    // manage cookies\nimport objectFitImages from 'object-fit-images';    // object-fit polyfill\nimport shave from 'shave';\n\n/**\n * App modules\n */\nimport { debounce, isMobile, goTo, replaceUrlParam } from './modules/utils.js';\nimport { setupWidgets } from './modules/widgets.js';\n//import { setupTree } from './modules/tree.js';\n\n\n\n(function ($, themeData) {\n\n  'use strict';\n\n  // Expose jquery to modules\n  window.jQuery = $;\n  window.$ = $;\n\n  // Aux constants\n  const $body = $('body');\n  const $win = $(window);\n  const $doc = $(document);\n  const $goup = $('.sticky-scroll');\n  const breakpoint = 768;\n  const isSingle = $body.hasClass('single');\n\n  const SINGLE_VIEW = 'single';\n  const GRID_VIEW = 'grid';\n  const LIST_VIEW = 'list';\n  const FULL_VIEW = 'full';\n  const TREE_VIEW = 'tree';\n  const COMM_VIEW = 'comm';\n\n  const DIR_NEW = 'newest';\n  const DIR_OLD = 'oldest';\n\n  // Aux variables\n  let ww = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n  let currentView = '';\n\n  /**\n   * On resize event handler (debounced)\n   */\n  const onResize = debounce(() => {\n    ww = window.innerWidth || document.documentElement.clientWidth || document.body.clientWidth;\n    if (ww > breakpoint) {\n      $body.removeClass('device-sm');\n    } else {\n      $body.addClass('device-sm');\n    }\n    truncate()\n\n    $(\".img-cover.fade.show\").each(function () {\n      fitThumb(this);\n    });\n\n  }, 50, false);\n\n\n  /**\n   * On scroll event handler (debounced)\n   */\n  const onScroll = debounce(() => {\n    if ($win.scrollTop() > 340) {\n      $goup.removeClass('off');\n    } else {\n      $goup.addClass('off');\n    }\n  }, 100, true)\n\n\n  /**\n   * Append external icon to item\n   * @param {object} item dom element\n   */\n  const appendExternalIcon = function (item) {\n    var $item = $(item);\n    if (!$item.find('.icon--external-link').length) {\n      $item.append(`<span aria-hidden=\"true\" class=\"icon icon--small icon--external-link\"></span><span class=\"icon-alt\">${themeData.t.externalLink}</span>`);\n    }\n  }\n\n  /**\n   * Sum fixed elements to offset\n   */\n  const getOffset = function (offset) {\n    const $header = $('.site-header');\n    const $menu = $('.site-menu');\n    offset = offset || 0;\n\n    if ($header.length) {\n      offset += $header.height();\n    }\n\n    if ($menu.length && !$body.hasClass('device-sm')) {\n      offset += $menu.height();\n    }\n\n    if ($('body').hasClass('admin-bar')) {\n      offset += $('#wpadminbar').height();\n    }\n\n    return offset;\n  }\n\n  /**\n   * Truncate texts\n   */\n  const truncate = function () {\n    const $truncate = $('.truncate');\n    $truncate.each(function () {\n      const $this = $(this);\n\n      if (!$this.data('text')) {\n        $this.data('text', this.textContent);\n      }\n\n      if (!$this.data('height')) {\n        $this.data('height', $this.height())\n      }\n\n      const t = $this.data('text');\n      this.textContent = t;\n\n      shave(this, $this.data('height'));\n\n      if ($this.find('.js-shave').length) {\n        $this.attr('title', t);\n      } else {\n        $this.removeAttr('title');\n      }\n\n      if ($this.attr('target') === '_blank') {\n        appendExternalIcon(this);\n      }\n\n      if ($this.data('mega-indicator') && !$this.find('.mega-indicator').length) {\n        $this.append($this.data('mega-indicator'));\n      }\n\n    })\n  }\n\n\n  /**\n   * Setup main menu\n   */\n  const setupMenu = function () {\n\n    // Megamenu accessibility\n    if (themeData.megamenu === '1') {\n      $('.mega-menu-wrap').each(function () {\n        var $this = $(this);\n        var $menu = $this.find('.mega-menu');\n        var $toggle = $this.find('.mega-menu-toggle button');\n\n        if ($menu.length && $toggle.length) {\n          var cls = '';\n          $toggle.attr('aria-controls', $menu.attr('id'));\n          if ($menu.data('effect-mobile') == 'slide_left') cls = 'slide-left';\n          if ($menu.data('effect-mobile') == 'slide_right') cls = 'slide-right';\n          if (cls !== '') {\n            $this.append(`<button class=\"btn btn-menu-close ${cls}\" type=\"button\" aria-controls=\"${$menu.attr('id')}\" aria-label=\"${themeData.t.closeMenu}\"><span class=\"icon icon--close\" aria-hidden=\"true\"></span></button>`);\n          }\n        }\n      });\n\n      $(\"ul#mega-menu-primary-menu\").on(\"mmm:showMobileMenu\", function () {\n        $(this).parent().find('.btn-menu-close').addClass('open');\n      });\n\n      $(\"ul#mega-menu-primary-menu\").on(\"mmm:hideMobileMenu\", function () {\n        $(this).parent().find('.btn-menu-close').removeClass('open');\n      });\n    }\n\n    // Truncate items\n    const $truncate = $('.site-menu ul.navbar-nav > li > a.nav-link, .site-menu .mega-menu > .mega-menu-item > .mega-menu-link');\n    $truncate.addClass('truncate');\n    $truncate.each(function () {\n      const $this = $(this);\n      const t = this.textContent;\n      $this.data('text', t).data('height', 68).attr('aria-label', t);\n      if ($this.find('.mega-indicator').length) $this.data('mega-indicator', $this.find('.mega-indicator'));\n    })\n\n    // Add External links\n    const $external = $('.site-menu ul.navbar-nav a[target=_blank], .site-menu .mega-menu-link[target=_blank], .site-menu .list--menu a[target=_blank]');\n    $external.each(function () {\n      appendExternalIcon(this);\n    })\n\n  }\n\n  /**\n   * Setup agora sort forms\n   */\n  const setupSort = function () {\n\n    $doc.on('click', '.dropdown-sort .dropdown-menu', function (e) {\n      e.stopPropagation();\n    });\n\n    $doc.on('change', '.dropdown-sort input[type=\"radio\"]', function (e) {\n      $(this).closest('.form-sort').trigger('submit');\n      setTimeout(function(){\n        $('.dropdown-sort .dropdown-toggle').dropdown('hide');\n      }, 100);\n    });\n\n    $doc.on('hide.bs.dropdown', '.dropdown-sort', function () {\n      $(this).find('.form-sort').trigger('submit');\n    });\n\n    $doc.on('click', '.btn-modal-sort', function () {\n      const $modal = $(this).closest('.modal');\n      $modal.modal('hide');\n      $modal.find('.form-sort').trigger('submit');\n    });\n\n    $doc.on('click', '.dropdown-sort .btn--order', function (e) {\n      const $this = $(this);\n      const $form = $this.parent().find('.form-sort-agoras');\n      const _order = $form.data('order') === 'DESC' ? 'ASC' : 'DESC';\n      $form.find('input[name=\"order\"]').val(_order);\n      $form.trigger('submit');\n    });\n\n    $doc.on('submit', '.form-sort-agoras', function (e) {\n      const $this = $(this);\n      if($this.find('input.agoras_order').length){\n        if ($this.data('orderby') === $this.find('input[name=\"orderby\"]:checked').val() && $this.data('order') === $this.find('input[name=\"order\"]').val()) {\n          e.preventDefault();\n        }\n      }else{\n        if ($this.data('orderby') === $this.find('input[name=\"orderby\"]:checked').val() && $this.data('order') === $this.find('input[name=\"order\"]:checked').val()) {\n          e.preventDefault();\n        }\n      }\n    });\n\n  }\n\n  /**\n   * \n   * @param {object} e event\n   * @param {object} $anchor  collapse jquery anchor\n   */\n  const scrollToArea = function (e, $anchor, offset) {\n    offset = offset || 0;\n    const $collapse = $anchor.closest('.entry-article').find('.entry-collapse');\n    if ($collapse.length) {\n      e.preventDefault();\n      const delay = $collapse.hasClass('show') ? 0 : 500;\n      $collapse.collapse('show');\n      if ($anchor.length) {\n        setTimeout(function () {\n          goTo($anchor[0], 'smooth', offset, function () {\n            const x = window.scrollX, y = window.scrollY;\n            $anchor.parent()[0].focus();\n            if (isSingle) window.location.hash = $anchor.attr('name');\n            window.scrollTo(x, y);\n          });\n        }, delay);\n      }\n    } else if ($anchor.length) {\n      e.preventDefault();\n      goTo($anchor[0], 'smooth', offset, function () {\n        const x = window.scrollX, y = window.scrollY;\n        $anchor.parent()[0].focus();\n        if (isSingle) window.location.hash = $anchor.attr('name');\n        window.scrollTo(x, y);\n      });\n    }\n  };\n\n\n  /**\n   * Setup agora view modes\n   */\n  const setupView = function () {\n\n    if (!$('.nav-actions').length || $('.agora-view').data('view') === SINGLE_VIEW) {\n      return false;\n    }\n\n    const $collapsible = $('.entry-collapse');\n\n    $collapsible.on('show.bs.collapse', function () {\n      $(this).parent().addClass('expanded');\n      if (themeData.listAjax === '1') {\n        loadContent($(this));\n      }\n    })\n\n    $collapsible.on('hide.bs.collapse', function () {\n      $(this).parent().removeClass('expanded');\n    })\n\n    const view = $('.js-change-agora-view.active').data('view') || Cookies.get('agora-view', view) || GRID_VIEW;\n    setView(view);\n\n    $doc.on('click', '.js-change-agora-view', function (e) {\n      const view = $(this).data('view') || GRID_VIEW;\n      if (currentView !== TREE_VIEW && view !== TREE_VIEW && currentView !== COMM_VIEW && view !== COMM_VIEW ) {\n        e.preventDefault();\n        setView(view);\n        replaceUrlParam(window.location.href, 'view', view);\n        // This is to add this information on datamart\n        $.post(themeData.ajaxurl, {\n          _ajax_nonce: themeData.nonce,\n          action: \"change_agora_view\",\n          view: view\n        })\n      }\n    });\n\n  }\n\n\n  /**\n   * Set agora view mode\n   * @param {string} view view mode\n   */\n  const setView = function (view) {\n\n    view = view === FULL_VIEW ? LIST_VIEW : view;\n\n    currentView = view;\n\n    $('.js-change-agora-view.active').removeClass('active').removeAttr('aria-current');\n    $(`.js-change-agora-view[data-view=${view}]`).addClass('active').attr('aria-current', true);\n    $('.agora-view.view-row').attr('data-view', view);\n\n    const $collapsible = $('.entry-collapse');\n\n    if (view === LIST_VIEW) {\n      $collapsible.collapse('show');\n    } else {\n      $collapsible.collapse('hide');\n    }\n\n    if (themeData.cookies === '1') {\n      Cookies.set('agora-view', view, { expires: 7 });\n    } else {\n      Cookies.set('agora-view', view);\n    }\n\n  }\n\n  /**\n   * Reset tinymce comment editor if enabled\n   */\n  const resetCommentEditor = function (){\n    if (typeof (tinyMCE) !== 'undefined') {\n      const editor = tinymce.get('comment');\n      const editor_switch = typeof (window.switchEditors) !== 'undefied' && typeof (window.switchEditors.go) !== 'undefined';\n      const editor_hidden = editor && editor_switch && editor.isHidden();\n      if (editor){\n        $('textarea#comment').height(editor.settings.height || 240);\n        if(editor_switch && editor_hidden){\n          window.switchEditors.go('comment','tmce'); \n        }\n        tinymce.EditorManager.execCommand('mceRemoveEditor', true, 'comment');\n        tinymce.EditorManager.execCommand('mceAddEditor', true, 'comment'); \n      }\n    }\n  }\n\n  /**\n   * Setup generic events\n   */\n  const setupEvents = function () {\n\n    // Resize event\n    $win.on('resize', function () {\n      onResize();\n    });\n\n    // Scroll event\n    $win.on('scroll', function () {\n      onScroll();\n    });\n\n    // Go to top scroll\n    $goup.on('click', function () {\n      window.scrollTo({ top: 0, behavior: 'smooth' });\n      return false;\n    });\n\n    // Debate\n    $doc.on('click', '.btn--debate', function (e) {\n      if (currentView !== GRID_VIEW && (isSingle || themeData.listComments === '1')) {\n        e.preventDefault();\n        const $this = $(this);\n        const $anchor = $this.closest('.entry-article').find('.entry-comments > .anchor');\n        scrollToArea(e, $anchor, 100);\n        if($this.hasClass('no-comments')){\n            $this.closest('.entry-article').find('.btn-comment-list').trigger('click');\n        }\n      }\n    });\n\n    // Evaluation anchor link\n    $doc.on('click', '.btn--evaluable', function (e) {\n      if (currentView !== GRID_VIEW && currentView !== COMM_VIEW) {\n        e.preventDefault();\n        const $anchor = $(this).closest('.entry-article').find('.evaluation-area > .anchor');\n        scrollToArea(e, $anchor, 100);\n      }\n    });\n\n    // Manage comments form in lists if enabled or tree\n    if (themeData.listComments === '1') {\n\n      $doc.on('click', '.btn-comment-list', function (e) {\n        e.preventDefault();\n\n        const $this = $(this);\n        const $parent = $this.parent();\n        const $respond = $('#respond');\n        const $reply = $respond.find('#reply-title');\n\n        $respond.find('#comment_post_ID').val($this.data('id'));\n        $respond.find('#comment_parent').val(0);\n        if ($reply.length > 0) {\n          $reply[0].firstChild.textContent = themeData.t.leaveReply;\n        }\n        $respond.find('#cancel-comment-reply-link').hide();\n        $parent.find('#wp-temp-form-div').remove();\n        $parent.prepend($respond);\n\n        resetCommentEditor();\n\n        const $elm = $respond.find('input:not(:hidden):not(:disabled), select:not(:hidden):not(:disabled), textarea:not(:hidden):not(:disabled)').first();\n        if ($elm.length) $elm.trigger('focus');\n\n        $(document).trigger( \"folio-comment-access:reset\" );\n\n      });\n\n\n      $doc.on('click', '.agora-view .view-col .load-more-comments-js', function (e) {\n        e.preventDefault();\n        var $this = $(this);\n        if (!$this.hasClass('disabled')) {\n          loadMoreComments($this);\n        }\n        return false;\n      });\n\n\n      // reposition comment form placeholder in comments lists\n      if ( typeof addComment !== 'undefined' ) {\n\n        addComment._agora_folio_theme_moveForm = addComment.moveForm;\n\n        addComment.moveForm = function ( commId, parentId, respondId, postId ) {\n            var returnValue = addComment._agora_folio_theme_moveForm( commId, parentId, respondId, postId );\n\n            var $place = $('#post-' + postId + ' .entry-comment-list');\n            if($place.length > 0){\n              $('#wp-temp-form-div').prependTo($place);\n            }\n\n            return returnValue;\n        };\n      }\n\n\n    }\n\n    // Fetch all the forms we want to apply custom validation styles to\n    $doc.on('submit', '.needs-validation', function (e) {\n      if (!this.checkValidity()) {\n        e.preventDefault();\n        e.stopPropagation();\n        const el = document.querySelector('.needs-validation :invalid');\n        if (el) {\n          goTo(el, 'smooth', getOffset(100), function () {\n            el.focus();\n          });\n        }\n      }\n      $(this).addClass('was-validated');\n    });\n\n\n    // Tooltips\n    $('[data-toggle=\"tooltip\"]').tooltip({\n      animated: 'fade'\n    });\n\n  }\n\n\n  /**\n   * Setup evaluation form\n   */\n  const setupEvaluation = function () {\n\n    if (!$('.evaluation-area').length) return false;\n\n    $doc.on('click', '.publish-grade-submit', function (e) {\n      e.preventDefault();\n\n      const $this = $(this);\n      const id = $this.data('id');\n      const activityId = $this.data('submissionid');\n      const grade = $('.radio-options-inline-grade-' + id + ':checked').val();\n      const feedback = evaluation_tinymce_get_content('evaluation-textarea-' + id);\n      const visibility = $('.publish-grade-radio-' + id + ':checked').val();\n      const result_holder = $('#result-uoc-rac-box-' + id);\n      const ok_icon = '<span class=\"icon icon--checkmark icon--normal icon--after\" aria-hidden=\"true\"></span>';\n      const ko_icon = '<span class=\"icon icon--alert icon--normal icon--after\" aria-hidden=\"true\"></span>';\n\n      $this.attr(\"disabled\", true);\n      result_holder.show();\n      result_holder.removeClass('alert--icon-before alert--icon-after alert--success-alternative alert--error-alternative');\n      result_holder.html('<div class=\"loading\">' + themeData.t.saving + '</div>');\n      if (result_holder.length) {\n        goTo(result_holder[0], 'smooth', getOffset(100), function () {\n          result_holder[0].focus();\n        });\n      }\n\n      $.ajax({\n        type: 'POST',\n        url: themeData.ajaxurl,\n        data: {\n          'action': themeData.setGradeAction,\n          'id': activityId,\n          'postid': id,\n          'grade': grade,\n          'feedback': feedback,\n          'visibility': visibility\n        },\n        success: function (response) {\n          if (response && 'undefined' !== typeof response) {\n            if (response.success) {\n              result_holder.html(ok_icon + themeData.t.success);\n              result_holder.addClass('alert--icon-after alert--success-alternative');\n              const $btn = $(\"#btn-evaluable-\" + id);\n              $btn.children('.lbl').text(themeData.t.evaluated);\n              $btn.children('.grade').html(grade);\n              $(\".evaluation-status-\" + id).text(themeData.t.evaluated);\n              $this.closest('.evaluation-box').removeClass('pending').addClass('sent');\n            } else {\n              result_holder.addClass('alert--icon-after alert--error-alternative');\n              result_holder.html(ko_icon + response.data.message);\n            }\n          } else {\n            result_holder.addClass('alert--icon-after alert--error-alternative');\n            result_holder.html(ko_icon + themeData.t.error_saving_grade);\n          }\n        }\n      }).fail(function () {\n        result_holder.addClass('alert--icon-after alert--error-alternative');\n        result_holder.html(ko_icon + themeData.t.error_saving_grade);\n      });\n\n    });\n\n\n    $doc.on('change', '.radio-grade-select', function () {\n      const id = $(this).data('id');\n      evaluation_enable_publish(id);\n      evaluation_set_grade_select(id, $(this));\n    });\n\n    $doc.on('change', '.publish-grade-radio', function () {\n      const id = $(this).data('id');\n      evaluation_enable_publish(id);\n      evaluation_show_help_information($(this).val(), id);\n    });\n\n    $doc.on('click', '.btn-delete-grade', function (e) {\n      e.preventDefault();\n      const id = $(this).data('id');\n      $('.radio-options-inline-grade-' + id).prop(\"checked\", false);\n      evaluation_enable_publish(id);\n      evaluation_set_grade_select(id, false);\n    });\n\n\n    $doc.on('click', '.btn--evaluate-agora', function () {\n      const $box = $(this).closest('.evaluation-box').find('.teacher-evaluation-box');\n      const id = $box.data('id');\n      const activityid = $box.data('activityid');\n      evaluation_disable_publish(id);\n      evaluation_load_grade_feedback(activityid, id, $box);\n    });\n\n    /*if ($('.teacher-evaluation-box').length > 0) {\n      $('.teacher-evaluation-box').each(function() {\n        const id = $(this).data('id');\n        const activityid = $(this).data('activityid');\n        evaluation_disable_publish(id);\n        evaluation_load_grade_feedback(activityid, id, $(this));\n      });\n    }*/\n\n  }\n\n  /**\n   * Enable evaluation publish\n   */\n  const evaluation_enable_publish = function (id) {\n    $('#result-uoc-rac-box-' + id).slideUp('fast');\n    $('#publish-grade-submit-' + id).attr(\"disabled\", false);\n  }\n\n  /**\n   * Disable evaluation publish\n   */\n  const evaluation_disable_publish = function (id) {\n    $('#publish-grade-submit-' + id).attr(\"disabled\", true);\n  }\n\n  /**\n   * Load evaluation grade feedback\n   */\n  const evaluation_load_grade_feedback = function (activityid, id, $box) {\n    const $loading = $box.closest('.evaluation-box').find('.evaluation-loading');\n    $loading.show();\n    $box.hide();\n\n    $.ajax({\n      type: 'GET',\n      url: themeData.ajaxurl,\n      data: {\n        'action': themeData.getFeedbackGradeAction,\n        'id': activityid\n      },\n      success: function (response) {\n        if (response && 'undefined' !== typeof response) {\n          if (response.success) {\n            var grade = response.data.grade;\n            var feedback = response.data.feedback;\n            var content = feedback && feedback.text ? feedback.text : '';\n            var publish_grade = grade.publish_grade;\n\n            evaluation_mark_grade(id, grade.grade);\n            evaluation_publish_grade(publish_grade, id);\n            evaluation_tinymce_set_content(content, id, 'evaluation-textarea-' + id);\n\n          } else {\n            if (response && response.data) {\n              $box.html(response.data.message);\n            } else {\n              $box.html(themeData.t.error_loading_grade);\n            }\n          }\n        }\n      }\n    }).fail(function () {\n      $box.html(themeData.t.error_loading_grade);\n    }).always(function () {\n      $loading.hide();\n      $box.show();\n    });\n  }\n\n\n  /**\n   * Aux method evaluation mark grade\n   */\n  const evaluation_mark_grade = function (id, grade) {\n    if (grade == null) {\n      grade = \"\";\n    }\n    grade = grade.replace('+', 'plus');\n    $('#radio-options-inline-grade-' + grade + '-' + id).prop(\"checked\", true);\n    evaluation_set_grade_select(id, $('#radio-options-inline-grade-' + grade + '-' + id));\n  }\n\n  /**\n   * Aux method evaluation set grade\n   */\n  const evaluation_set_grade_select = function (id, elem) {\n    $('.label-grade-select-' + id).removeClass('selected-grade');\n    if (elem) {\n      $(elem).parent().addClass('selected-grade');\n    }\n  }\n\n  /**\n   * Aux method to set tinymce content\n   */\n  const evaluation_tinymce_set_content = function (content, id, editor_id, textarea_id) {\n    if (typeof editor_id == 'undefined') editor_id = wpActiveEditor;\n    if (typeof textarea_id == 'undefined') textarea_id = editor_id;\n    const $textarea = $('#' + textarea_id);\n\n    if ($('#wp-' + editor_id + '-wrap').hasClass('tmce-active')) {\n      const $editor = tinyMCE.get(editor_id);\n      $editor.setContent(content);\n      $editor.on('input change', function () {\n        evaluation_enable_publish(id);\n      });\n    } else {\n      $textarea.val(content);\n    }\n\n    $textarea.on('input change', function () {\n      evaluation_enable_publish(id);\n    });\n  }\n\n  /**\n   * Aux method evaluation grade\n   */\n  const evaluation_publish_grade = function (val, id) {\n    $('.publish-grade-radio-' + id).prop(\"checked\", false);\n    $('#publish-grade-radio-' + id + '-' + val).prop(\"checked\", true);\n    evaluation_show_help_information(val, id);\n  }\n\n  /**\n   * Aux method display evaluation help info\n   */\n  const evaluation_show_help_information = function (val, id) {\n    if (val == 'now') {\n      $('#info_publish_grade_now_' + id).show();\n      $('#info_program_publish_grade_' + id).hide();\n    } else {\n      $('#info_publish_grade_now_' + id).hide();\n      $('#info_program_publish_grade_' + id).show();\n    }\n  }\n\n  /**\n   * Aux method to get tinymce content\n   */\n  const evaluation_tinymce_get_content = function (editor_id, textarea_id) {\n    if (typeof editor_id == 'undefined') editor_id = wpActiveEditor;\n    if (typeof textarea_id == 'undefined') textarea_id = editor_id;\n\n    if ($('#wp-' + editor_id + '-wrap').hasClass('tmce-active') && tinyMCE.get(editor_id)) {\n      return tinyMCE.get(editor_id).getContent();\n    } else {\n      return $('#' + textarea_id).val();\n    }\n  }\n\n  /**\n   * Load post content v√≠a ajax in lists\n   * @param {object} $container jquery element\n   */\n  const loadContent = function ($container) {\n    const _post_id = $container.data('post-id');\n    if (_post_id && !$container.hasClass('loaded')) {\n      $container.children('.entry-body').html('<div class=\"loading mb-3\">' + themeData.t.loading + '</div>');\n      $.post(themeData.ajaxurl, {\n        _ajax_nonce: themeData.nonce,\n        action: \"get_ajax_agora_post\",\n        post_id: _post_id\n      })\n        .done(function (data) {\n          $container.find('.loading').remove();\n          if (data.result) {\n            $container.addClass('loaded');\n            $container.children('.entry-body').html(data.result);\n            if (typeof ($.fn.pdfEmbedder) != 'undefined') {\n              $container.find('.pdfemb-viewer').pdfEmbedder();\n            }\n            if (data.pdf_url) {\n              $container.find('a.dkpdf-button').attr('href', data.pdf_url);\n            }\n          }\n        })\n        .fail(function () {\n          $container.find('.loading').remove();\n        });\n    }\n  }\n\n\n  /**\n   * Load post content v√≠a ajax in lists\n   * @param {object} $item jquery element\n   */\n  const loadMoreComments = function ($item) {\n\n    const _post_id = $item.data('post-id');\n    const _dir = $item.data('dir');\n    const _pages = parseInt($item.data('pages'), 10);\n    const $more = $item.closest('.load-more');\n\n    let _page = parseInt($item.data('page'), 10);\n\n    if (_post_id) {\n\n      if (_dir === DIR_NEW) {\n        _page -= 1;\n      } else {\n        _page += 1;\n      }\n\n      $.post({\n        url: agoraFolioData.ajaxurl,\n        data: {\n          _ajax_nonce: agoraFolioData.nonce,\n          action: \"load_more_comments_list_ajax\",\n          post_id: _post_id,\n          page: _page,\n        },\n        beforeSend: function () {\n          $item.addClass('disabled');\n          $item.find('.label').text(agoraFolioData.t.loading);\n          $item.find('.icon').addClass('loading');\n        }\n      })\n        .done(function (data) {\n          if (data.result) {\n            const $result = $(data.result);\n            $more.closest('.view-col').find('.comment-list').append($result);\n            $item.removeClass('disabled');\n            $item.find('.label').text(agoraFolioData.t.loadMore);\n            $item.find('.icon').removeClass('loading');\n            $item.data('page', _page).attr('data-page', _page);\n            if ((_dir === DIR_NEW && _page === 1) || _dir === DIR_OLD && _page === _pages) {\n              $more.remove();\n            }\n            if (typeof ($.fn.pdfEmbedder) != 'undefined') {\n              $result.find('.pdfemb-viewer').pdfEmbedder();\n            }\n          } else {\n            $more.remove();\n          }\n        })\n        .fail(function () {\n          $more.remove();\n        });\n\n    }\n  };\n\n  /**\n   * Set object fit image \n   * @param {object} img image object\n   * @returns \n   */\n  const fitThumb = function (img) {\n\n    if (!img) return false;\n\n    const $img = $(img);\n    const w = img.naturalWidth;\n    const h = img.naturalHeight;\n\n    $img.addClass('show');\n\n    if (!w || !h) return false;\n\n    if (w < $img.parent().width() || h < $img.parent().height()) {\n      $img.addClass('contain');\n    } else {\n      $img.removeClass('contain');\n    }\n\n  }\n\n  /**\n   * Position and Fade In image thumbnails after load complete\n   */\n  const preloadThumbs = function () {\n    $(\".img-cover.fade:not(.show)\").on(\"load\", function () {\n      fitThumb(this);\n    }).each(function () {\n      // lanzamos el evento load si no se ejecuta para im√°genes almacenadas en cach√©\n      if (this.complete) $(this).trigger(\"load\");\n    });\n  };\n\n\n  /**\n   * Initialize application\n   */\n  $(function () {\n    console.log('üöÄ AgoraFolio is ready!');\n    if (isMobile.any()) $body.addClass('device-touch');\n    preloadThumbs();\n    objectFitImages('img.img-cover');\n    setupMenu();\n    setupView();\n    setupSort();\n    setupEvents();\n    //setupTree();\n    setupWidgets();\n    setupEvaluation();\n    onResize();\n  })\n\n})(jQuery, typeof agoraFolioData !== 'undefined' ? agoraFolioData : {});","module.exports = jQuery;"],"names":["debounce","callback","wait","immediate","timeout","callNow","next","apply","arguments","clearTimeout","setTimeout","isMobile","Android","navigator","userAgent","match","BlackBerry","iOS","Opera","Windows","any","goTo","elm","behavior","offset","top","getBoundingClientRect","window","scrollY","document","documentElement","scrollTop","toFixed","onScrollTo","pageYOffset","removeEventListener","addEventListener","scrollTo","sortParticipants","$block","orderBy","attr","orderByAlt","order","find","each","$this","$","this","children","sort","a","b","orderA","toLowerCase","orderB","orderC","orderD","appendTo","setupWidgets","$sortbtn","$sortby","$sort","on","val","text","data","e","preventDefault","prop","themeData","jQuery","$body","$win","$doc","$goup","isSingle","hasClass","GRID_VIEW","LIST_VIEW","TREE_VIEW","COMM_VIEW","DIR_NEW","currentView","innerWidth","clientWidth","body","onResize","removeClass","addClass","truncate","fitThumb","onScroll","appendExternalIcon","item","$item","length","append","t","externalLink","getOffset","$header","$menu","height","textContent","shave","removeAttr","scrollToArea","$anchor","$collapse","closest","delay","collapse","x","scrollX","y","parent","focus","location","hash","setupView","$collapsible","listAjax","loadContent","view","Cookies","setView","url","paramName","paramValue","pattern","RegExp","search","replace","indexOf","history","replaceState","replaceUrlParam","href","post","ajaxurl","_ajax_nonce","nonce","action","cookies","expires","setupEvents","listComments","trigger","$parent","$respond","$reply","firstChild","leaveReply","hide","remove","prepend","tinyMCE","editor","tinymce","get","editor_switch","switchEditors","go","editor_hidden","isHidden","settings","EditorManager","execCommand","resetCommentEditor","$elm","first","loadMoreComments","addComment","_agora_folio_theme_moveForm","moveForm","commId","parentId","respondId","postId","returnValue","$place","prependTo","checkValidity","stopPropagation","el","querySelector","tooltip","animated","evaluation_enable_publish","id","slideUp","evaluation_disable_publish","evaluation_load_grade_feedback","activityid","$box","$loading","show","ajax","type","getFeedbackGradeAction","success","response","grade","feedback","content","publish_grade","evaluation_mark_grade","evaluation_publish_grade","evaluation_tinymce_set_content","html","message","error_loading_grade","fail","always","evaluation_set_grade_select","elem","editor_id","textarea_id","wpActiveEditor","$textarea","$editor","setContent","evaluation_show_help_information","evaluation_tinymce_get_content","getContent","$container","_post_id","loading","post_id","done","result","fn","pdfEmbedder","pdf_url","_dir","_pages","parseInt","$more","_page","agoraFolioData","page","beforeSend","$result","loadMore","img","$img","w","naturalWidth","h","naturalHeight","width","console","log","complete","objectFitImages","megamenu","$toggle","cls","closeMenu","$truncate","setupMenu","dropdown","$modal","modal","$form","_order","activityId","visibility","result_holder","ko_icon","saving","setGradeAction","$btn","evaluated","error_saving_grade","setupEvaluation","module","exports"],"sourceRoot":""}