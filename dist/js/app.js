"use strict";(self.webpackChunkagora_folio=self.webpackChunkagora_folio||[]).push([[773],{4180:function(t,e,a){a(7232),a(3019),a(3726),a(3761),a(8063),a(6945),a(3537),a(9361),a(1884),a(6286),a(8269);var n=a(7258),i=a.n(n),o=a(968),r=a.n(o),d=a(4498),s=(a(5684),a(9468),a(7408),a(2),a(7782),a(169),function(t,e){var a=arguments.length>2&&void 0!==arguments[2]&&arguments[2],n=null;return function(){var i=arguments,o=this,r=a&&!n,d=function(){return t.apply(o,i)};clearTimeout(n),n=setTimeout(d,e),r&&d()}}),l={Android:function(){return navigator.userAgent.match(/Android/i)},BlackBerry:function(){return navigator.userAgent.match(/BlackBerry/i)},iOS:function(){return navigator.userAgent.match(/iPhone|iPad|iPod/i)},Opera:function(){return navigator.userAgent.match(/Opera Mini/i)},Windows:function(){return navigator.userAgent.match(/IEMobile/i)},any:function(){return l.Android()||l.BlackBerry()||l.iOS()||l.Opera()||l.Windows()}},c=function(t,e,a,n){e=e||"smooth",a=a||0;var i=(t.getBoundingClientRect().top+(window.scrollY||document.documentElement.scrollTop)-a).toFixed(),o=function t(){window.pageYOffset.toFixed()===i&&(window.removeEventListener("scroll",t),n&&n())};window.addEventListener("scroll",o),o(),window.scrollTo({top:i,behavior:e})},u=(a(6608),function(t){var e=t.attr("data-orderby"),a="name"===e?"surname":"name",n=t.attr("data-order");t.find(".list--participants").each((function(){var t=$(this);t.children("li").sort((function(t,i){var o=$(t).attr("data-"+e).toLowerCase(),r=$(i).attr("data-"+e).toLowerCase();if(o===r){var d=$(t).attr("data-"+a),s=$(i).attr("data-"+a);return"ASC"===n?d<s?-1:d>s?1:0:s<d?-1:s>d?1:0}return"ASC"===n?o<r?-1:o>r?1:0:r<o?-1:r>o?1:0})).appendTo(t)}))}),f=function(){$(".mega-menu .modal").appendTo("body"),$(".block--participants").each((function(){var t=$(this),e=t.find(".btn-participants-sort"),a=t.find("input.participants-orderby"),n=t.find("input.participants-order");a.on("change",(function(){t.attr("data-orderby",$(this).val()),u(t)})),n.on("change",(function(){t.attr("data-order",$(this).val()),e.find(".lbl").text($(this).data("label")),u(t)})),e.on("click",(function(e){e.preventDefault();var a="ASC"===t.attr("data-order")?"DESC":"ASC";t.attr("data-order",a),t.find('input[value="'+a+'"]').prop("checked",!0),$(this).find(".lbl").text(t.find("input.participants-order:checked").data("label")),u(t)})),u(t)}))};!function(t,e){window.jQuery=t,window.$=t;var a=t("body"),n=t(window),o=t(document),u=t(".sticky-scroll"),m=a.hasClass("single"),h="grid",p="list",v="tree",g="comm",w="newest",b=(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth,""),C=s((function(){(window.innerWidth||document.documentElement.clientWidth||document.body.clientWidth)>768?a.removeClass("device-sm"):a.addClass("device-sm"),x(),t(".img-cover.fade.show").each((function(){R(this)}))}),50,!1),_=s((function(){n.scrollTop()>340?u.removeClass("off"):u.addClass("off")}),100,!0),y=function(a){var n=t(a);n.find(".icon--external-link").length||n.append('<span aria-hidden="true" class="icon icon--small icon--external-link"></span><span class="icon-alt">'.concat(e.t.externalLink,"</span>"))},k=function(e){var n=t(".site-header"),i=t(".site-menu");return e=e||0,n.length&&(e+=n.height()),i.length&&!a.hasClass("device-sm")&&(e+=i.height()),t("body").hasClass("admin-bar")&&(e+=t("#wpadminbar").height()),e},x=function(){t(".truncate").each((function(){var e=t(this);e.data("text")||e.data("text",this.textContent),e.data("height")||e.data("height",e.height());var a=e.data("text");this.textContent=a,(0,d.Z)(this,e.data("height")),e.find(".js-shave").length?e.attr("title",a):e.removeAttr("title"),"_blank"===e.attr("target")&&y(this),e.data("mega-indicator")&&!e.find(".mega-indicator").length&&e.append(e.data("mega-indicator"))}))},E=function(t,e,a){a=a||0;var n=e.closest(".entry-article").find(".entry-collapse");if(n.length){t.preventDefault();var i=n.hasClass("show")?0:500;n.collapse("show"),e.length&&setTimeout((function(){c(e[0],"smooth",a,(function(){var t=window.scrollX,a=window.scrollY;e.parent()[0].focus(),m&&(window.location.hash=e.attr("name")),window.scrollTo(t,a)}))}),i)}else e.length&&(t.preventDefault(),c(e[0],"smooth",a,(function(){var t=window.scrollX,a=window.scrollY;e.parent()[0].focus(),m&&(window.location.hash=e.attr("name")),window.scrollTo(t,a)})))},D=function(){if(!t(".nav-actions").length||"single"===t(".agora-view").data("view"))return!1;var a=t(".entry-collapse");a.on("show.bs.collapse",(function(){t(this).parent().addClass("expanded"),"1"===e.listAjax&&L(t(this))})),a.on("hide.bs.collapse",(function(){t(this).parent().removeClass("expanded")}));var n=t(".js-change-agora-view.active").data("view")||i().get("agora-view",n)||h;j(n),o.on("click",".js-change-agora-view",(function(a){var n=t(this).data("view")||h;b!==v&&n!==v&&b!==g&&n!==g&&(a.preventDefault(),j(n),function(t,e,a){null==a&&(a="");var n=new RegExp("\\b("+e+"=).*?(&|#|$)");t=t.search(n)>=0?t.replace(n,"$1"+a+"$2"):(t=t.replace(/[?#]$/,""))+(t.indexOf("?")>0?"&":"?")+e+"="+a,history&&history.replaceState(null,null,t)}(window.location.href,"view",n),t.post(e.ajaxurl,{_ajax_nonce:e.nonce,action:"change_agora_view",view:n}))}))},j=function(a){b=a="full"===a?p:a,t(".js-change-agora-view.active").removeClass("active").removeAttr("aria-current"),t(".js-change-agora-view[data-view=".concat(a,"]")).addClass("active").attr("aria-current",!0),t(".agora-view.view-row").attr("data-view",a);var n=t(".entry-collapse");a===p?n.collapse("show"):n.collapse("hide"),"1"===e.cookies?i().set("agora-view",a,{expires:7}):i().set("agora-view",a)},A=function(){n.on("resize",(function(){C()})),n.on("scroll",(function(){_()})),u.on("click",(function(){return window.scrollTo({top:0,behavior:"smooth"}),!1})),o.on("click",".btn--debate",(function(a){if(b!==h&&(m||"1"===e.listComments)){a.preventDefault();var n=t(this),i=n.closest(".entry-article").find(".entry-comments > .anchor");E(a,i,100),n.hasClass("no-comments")&&n.closest(".entry-article").find(".btn-comment-list").trigger("click")}})),o.on("click",".btn--evaluable",(function(e){if(b!==h&&b!==g){e.preventDefault();var a=t(this).closest(".entry-article").find(".evaluation-area > .anchor");E(e,a,100)}})),"1"===e.listComments&&(o.on("click",".btn-comment-list",(function(a){a.preventDefault();var n=t(this),i=n.parent(),o=t("#respond"),r=o.find("#reply-title");o.find("#comment_post_ID").val(n.data("id")),o.find("#comment_parent").val(0),r.length>0&&(r[0].firstChild.textContent=e.t.leaveReply),o.find("#cancel-comment-reply-link").hide(),i.find("#wp-temp-form-div").remove(),i.prepend(o),function(){if("undefined"!=typeof tinyMCE){var e=tinymce.get("comment"),a="undefied"!=typeof window.switchEditors&&void 0!==window.switchEditors.go,n=e&&a&&e.isHidden();e&&(t("textarea#comment").height(e.settings.height||240),a&&n&&window.switchEditors.go("comment","tmce"),tinymce.EditorManager.execCommand("mceRemoveEditor",!0,"comment"),tinymce.EditorManager.execCommand("mceAddEditor",!0,"comment"))}}();var d=o.find("input:not(:hidden):not(:disabled), select:not(:hidden):not(:disabled), textarea:not(:hidden):not(:disabled)").first();d.length&&d.trigger("focus"),t(document).trigger("folio-comment-access:reset")})),o.on("click",".agora-view .view-col .load-more-comments-js",(function(e){e.preventDefault();var a=t(this);return a.hasClass("disabled")||I(a),!1})),"undefined"!=typeof addComment&&(addComment._agora_folio_theme_moveForm=addComment.moveForm,addComment.moveForm=function(e,a,n,i){var o=addComment._agora_folio_theme_moveForm(e,a,n,i),r=t("#post-"+i+" .entry-comment-list");return r.length>0&&t("#wp-temp-form-div").prependTo(r),o})),o.on("submit",".needs-validation",(function(e){if(!this.checkValidity()){e.preventDefault(),e.stopPropagation();var a=document.querySelector(".needs-validation :invalid");a&&c(a,"smooth",k(100),(function(){a.focus()}))}t(this).addClass("was-validated")})),t('[data-toggle="tooltip"]').tooltip({animated:"fade"})},$=function(e){t("#result-uoc-rac-box-"+e).slideUp("fast"),t("#publish-grade-submit-"+e).attr("disabled",!1)},T=function(e){t("#publish-grade-submit-"+e).attr("disabled",!0)},F=function(a,n,i){var o=i.closest(".evaluation-box").find(".evaluation-loading");o.show(),i.hide(),t.ajax({type:"GET",url:e.ajaxurl,data:{action:e.getFeedbackGradeAction,id:a},success:function(t){if(t&&void 0!==t)if(t.success){var a=t.data.grade,o=t.data.feedback,r=o&&o.text?o.text:"",d=a.publish_grade;M(n,a.grade),W(d,n),O(r,n,"evaluation-textarea-"+n)}else t&&t.data?i.html(t.data.message):i.html(e.t.error_loading_grade)}}).fail((function(){i.html(e.t.error_loading_grade)})).always((function(){o.hide(),i.show()}))},M=function(e,a){null==a&&(a=""),a=a.replace("+","plus"),t("#radio-options-inline-grade-"+a+"-"+e).prop("checked",!0),S(e,t("#radio-options-inline-grade-"+a+"-"+e))},S=function(e,a){t(".label-grade-select-"+e).removeClass("selected-grade"),a&&t(a).parent().addClass("selected-grade")},O=function(e,a,n,i){void 0===n&&(n=wpActiveEditor),void 0===i&&(i=n);var o=t("#"+i);if(t("#wp-"+n+"-wrap").hasClass("tmce-active")){var r=tinyMCE.get(n);r.setContent(e),r.on("input change",(function(){$(a)}))}else o.val(e);o.on("input change",(function(){$(a)}))},W=function(e,a){t(".publish-grade-radio-"+a).prop("checked",!1),t("#publish-grade-radio-"+a+"-"+e).prop("checked",!0),B(e,a)},B=function(e,a){"now"==e?(t("#info_publish_grade_now_"+a).show(),t("#info_program_publish_grade_"+a).hide()):(t("#info_publish_grade_now_"+a).hide(),t("#info_program_publish_grade_"+a).show())},P=function(e,a){return void 0===e&&(e=wpActiveEditor),void 0===a&&(a=e),t("#wp-"+e+"-wrap").hasClass("tmce-active")&&tinyMCE.get(e)?tinyMCE.get(e).getContent():t("#"+a).val()},L=function(a){var n=a.data("post-id");n&&!a.hasClass("loaded")&&(a.children(".entry-body").html('<div class="loading mb-3">'+e.t.loading+"</div>"),t.post(e.ajaxurl,{_ajax_nonce:e.nonce,action:"get_ajax_agora_post",post_id:n}).done((function(e){a.find(".loading").remove(),e.result&&(a.addClass("loaded"),a.children(".entry-body").html(e.result),void 0!==t.fn.pdfEmbedder&&a.find(".pdfemb-viewer").pdfEmbedder(),e.pdf_url&&a.find("a.dkpdf-button").attr("href",e.pdf_url))})).fail((function(){a.find(".loading").remove()})))},I=function(e){var a=e.data("post-id"),n=e.data("dir"),i=parseInt(e.data("pages"),10),o=e.closest(".load-more"),r=parseInt(e.data("page"),10);a&&(n===w?r-=1:r+=1,t.post({url:agoraFolioData.ajaxurl,data:{_ajax_nonce:agoraFolioData.nonce,action:"load_more_comments_list_ajax",post_id:a,page:r},beforeSend:function(){e.addClass("disabled"),e.find(".label").text(agoraFolioData.t.loading),e.find(".icon").addClass("loading")}}).done((function(a){if(a.result){var d=t(a.result);o.closest(".view-col").find(".comment-list").append(d),e.removeClass("disabled"),e.find(".label").text(agoraFolioData.t.loadMore),e.find(".icon").removeClass("loading"),e.data("page",r).attr("data-page",r),(n===w&&1===r||"oldest"===n&&r===i)&&o.remove(),void 0!==t.fn.pdfEmbedder&&d.find(".pdfemb-viewer").pdfEmbedder()}else o.remove()})).fail((function(){o.remove()})))},R=function(e){if(!e)return!1;var a=t(e),n=e.naturalWidth,i=e.naturalHeight;if(a.addClass("show"),!n||!i)return!1;n<a.parent().width()||i<a.parent().height()?a.addClass("contain"):a.removeClass("contain")};t((function(){console.log("🚀 AgoraFolio is ready!"),l.any()&&a.addClass("device-touch"),t(".img-cover.fade:not(.show)").on("load",(function(){R(this)})).each((function(){this.complete&&t(this).trigger("load")})),r()("img.img-cover"),function(){"1"===e.megamenu&&(t(".mega-menu-wrap").each((function(){var a=t(this),n=a.find(".mega-menu"),i=a.find(".mega-menu-toggle button");if(n.length&&i.length){var o="";i.attr("aria-controls",n.attr("id")),"slide_left"==n.data("effect-mobile")&&(o="slide-left"),"slide_right"==n.data("effect-mobile")&&(o="slide-right"),""!==o&&a.append('<button class="btn btn-menu-close '.concat(o,'" type="button" aria-controls="').concat(n.attr("id"),'" aria-label="').concat(e.t.closeMenu,'"><span class="icon icon--close" aria-hidden="true"></span></button>'))}})),t("ul#mega-menu-primary-menu").on("mmm:showMobileMenu",(function(){t(this).parent().find(".btn-menu-close").addClass("open")})),t("ul#mega-menu-primary-menu").on("mmm:hideMobileMenu",(function(){t(this).parent().find(".btn-menu-close").removeClass("open")})));var a=t(".site-menu ul.navbar-nav > li > a.nav-link, .site-menu .mega-menu > .mega-menu-item > .mega-menu-link");a.addClass("truncate"),a.each((function(){var e=t(this),a=this.textContent;e.data("text",a).data("height",68).attr("aria-label",a),e.find(".mega-indicator").length&&e.data("mega-indicator",e.find(".mega-indicator"))})),t(".site-menu ul.navbar-nav a[target=_blank], .site-menu .mega-menu-link[target=_blank], .site-menu .list--menu a[target=_blank]").each((function(){y(this)}))}(),D(),o.on("click",".dropdown-sort .dropdown-menu",(function(t){t.stopPropagation()})),o.on("change",'.dropdown-sort input[type="radio"]',(function(e){t(this).closest(".form-sort").trigger("submit"),setTimeout((function(){t(".dropdown-sort .dropdown-toggle").dropdown("hide")}),100)})),o.on("hide.bs.dropdown",".dropdown-sort",(function(){t(this).find(".form-sort").trigger("submit")})),o.on("click",".btn-modal-sort",(function(){var e=t(this).closest(".modal");e.modal("hide"),e.find(".form-sort").trigger("submit")})),o.on("click",".dropdown-sort .btn--order",(function(e){var a=t(this).parent().find(".form-sort-agoras"),n="DESC"===a.data("order")?"ASC":"DESC";a.find('input[name="order"]').val(n),a.trigger("submit")})),o.on("submit",".form-sort-agoras",(function(e){var a=t(this);a.find("input.agoras_order").length?a.data("orderby")===a.find('input[name="orderby"]:checked').val()&&a.data("order")===a.find('input[name="order"]').val()&&e.preventDefault():a.data("orderby")===a.find('input[name="orderby"]:checked').val()&&a.data("order")===a.find('input[name="order"]:checked').val()&&e.preventDefault()})),A(),f(),function(){if(!t(".evaluation-area").length)return!1;o.on("click",".publish-grade-submit",(function(a){a.preventDefault();var n=t(this),i=n.data("id"),o=n.data("submissionid"),r=t(".radio-options-inline-grade-"+i+":checked").val(),d=P("evaluation-textarea-"+i),s=t(".publish-grade-radio-"+i+":checked").val(),l=t("#result-uoc-rac-box-"+i),u='<span class="icon icon--alert icon--normal icon--after" aria-hidden="true"></span>';n.attr("disabled",!0),l.show(),l.removeClass("alert--icon-before alert--icon-after alert--success-alternative alert--error-alternative"),l.html('<div class="loading">'+e.t.saving+"</div>"),l.length&&c(l[0],"smooth",k(100),(function(){l[0].focus()})),t.ajax({type:"POST",url:e.ajaxurl,data:{action:e.setGradeAction,id:o,postid:i,grade:r,feedback:d,visibility:s},success:function(a){if(a&&void 0!==a)if(a.success){l.html('<span class="icon icon--checkmark icon--normal icon--after" aria-hidden="true"></span>'+e.t.success),l.addClass("alert--icon-after alert--success-alternative");var o=t("#btn-evaluable-"+i);o.children(".lbl").text(e.t.evaluated),o.children(".grade").html(r),t(".evaluation-status-"+i).text(e.t.evaluated),n.closest(".evaluation-box").removeClass("pending").addClass("sent")}else l.addClass("alert--icon-after alert--error-alternative"),l.html(u+a.data.message);else l.addClass("alert--icon-after alert--error-alternative"),l.html(u+e.t.error_saving_grade)}}).fail((function(){l.addClass("alert--icon-after alert--error-alternative"),l.html(u+e.t.error_saving_grade)}))})),o.on("change",".radio-grade-select",(function(){var e=t(this).data("id");$(e),S(e,t(this))})),o.on("change",".publish-grade-radio",(function(){var e=t(this).data("id");$(e),B(t(this).val(),e)})),o.on("click",".btn-delete-grade",(function(e){e.preventDefault();var a=t(this).data("id");t(".radio-options-inline-grade-"+a).prop("checked",!1),$(a),S(a,!1)})),o.on("click",".btn--evaluate-agora",(function(){var e=t(this).closest(".evaluation-box").find(".teacher-evaluation-box"),a=e.data("id"),n=e.data("activityid");T(a),F(n,a,e)}))}(),C()}))}(jQuery,"undefined"!=typeof agoraFolioData?agoraFolioData:{})},1215:function(){},2634:function(){},9399:function(){},7499:function(){},1183:function(){},5311:function(t){t.exports=jQuery}},function(t){var e=function(e){return t(t.s=e)};t.O(0,[386,613,924,703,938,898],(function(){return e(4180),e(1215),e(2634),e(9399),e(7499),e(1183)}));t.O()}]);
//# sourceMappingURL=app.js.map